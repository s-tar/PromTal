@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap

@import 'mixins'

.comments
  padding: 0
  padding-top: 5px
  list-style: none
  padding-left: 10px
  margin-bottom: 0px
  ul
    list-style: none
    padding-left: 40px
  > .comment.form
    padding-top: 0px
    &:first-child
      margin-bottom: 15px
      .user-icon
        margin-top: -5px
  .comment
    position: relative
    margin: 5px 0px
    .likes-counter
      margin-left: 10px
      &:not(.active)
        opacity: 0.3
      &:hover
        opacity: 1
    .system-message
      color: #cccccc
    .user-icon
      position: absolute
    .message
      -transition all 0.3s ease
      padding: 5px 10px
      margin-left: 60px
      -border-radius 3px
      min-height: 50px
      position: relative
      overflow: visible

      &:hover .answer-button, &:hover .edit-button, &:hover .delete-button
        display: block
      .answer-button,  .edit-button, .delete-button
        float: right
        display: none
        margin-left: 10px
      .text
        white-space: pre-wrap
      .datetime
        color: #aaa
        font-size: 0.8em
        padding-left: 10px
      .arrow
        position: absolute
        color: #fff
        left: -0.35em
        font-size: 1.3em
        top: 5px
      .smile
        margin-top: -4px

  .quotes
    ul
      padding-left: 20px
    .comment
      .user-icon
        width: 30px
        height: 30px
        margin-top: 0px
      .message
        margin-left: 40px
        min-height: 30px
        .arrow
          top: 5px

.comment.form
  > .message
    padding: 0
    min-height: 30px
    .text
      white-space: normal
    form
      padding: 0
      float: none
      text-align: right
      position: relative
      .wrapper
        position: relative
        padding-right: 80px
    textarea
      border: 0 none
      min-height: 39px
      height: 39px
      margin-bottom: -5px
      -border-radius 3px 0 0 3px
      padding-top: 12px
      resize: none
      overflow: hidden
      background-color: transparent
    .right-buttons
      top: 0
      right: 0
      position: absolute
      height: 100%
    .send
      display: inline-block
      outline: none
      padding: 0
      margin: 0
      width: 40px
      height: 100%
      color: white
      border: 0 none
      -border-radius 0 3px 3px 0
      text-align: center
      font-size: 1.2em

    .media-uploader
      margin: 0
      display: inline-block
      height: 39px
      width: 39px
      font-size: 1.5em
      padding: 4px

.comments
  .media-holder
    margin: 3px -9px -4px
    .cancel
      display: none

  .comment.form .media-holder
      margin: 0
      margin-right: -40px
      .cancel
        display: block

@import 'mixins'
.community-page
  .message
    text-align: center
    font-size: 2em
    color: #999
.community-form
  .title
    margin: 0 -35px
    border-bottom: 1px solid #EEEEEE
    margin-bottom: 10px
    .switch
      position: absolute
      top: 15px
      right: 15px
      input
        display: none
      input:checked+label
        background: #e7422c
        color: white
        border-color: transparent
        &:before
          content: 'Закрытая'
      label
        -border-radius 5px
        padding: 5px 10px
        color: #aaa
        cursor: pointer
        font-size: 14px
        font-weight: normal
        margin: 0
        border: 1px dashed #ccc
        &:before
          content: 'Открытая'


  .name-wrapper
    padding-top: 2px
    padding-left: 80px
    height: 70px
  .image-loader
    position: absolute
    width: 70px
    height: 70px


.communities
  .frame.header
    position: relative
  .title
    text-align: left
    padding-right: 150px
  a.community-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .communities-list
    float: left
    padding: 0px
    padding-top: 10px
    width: 100%
  .community .info
    width: 100%
    padding-left: 110px
    position: absolute
    top: 10px
    left: 0px
    cursor: pointer


.community
  padding: 10px
  position: relative
  white-space: nowrap
  margin: 5px 0px
  &:hover .edit-buttons
    display: block
  .bottom-buttons
    position: absolute
    bottom: 10px
    right: 15px
    div.closed
      display: inline-block
      color: #999
      font-size: 2em
      vertical-align: middle
      margin-left: 10px
  .top-buttons
    position: absolute
    top: 10px
    right: 10px
    .edit-buttons
      padding: 0
    button
      padding: 7px 10px 5px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      background: transparent
      color: #337ab7
      &.community-join:hover
        background: #779dca
        color: white
      &.community-leave:hover
        background: #FF6961
        color: white

  .image, .info
    display: inline-block
    vertical-align: top
    white-space: normal
  .name
    font-size: 1.3em
    width: 100%
  .info
    padding: 0px 10px
    margin-right: 65px
  .description, .members
    line-height: 1.3em
  .description
    height: 47px
    overflow: hidden
    text-overflow: ellipsis
    margin-right: 20px
  .members
    color: #999999
  .image
    background-size: cover
    background-position: center center
    width: 90px
    height: 90px
    -border-radius 5px
    overflow: hidden
    background-image: url('/static/img/community.png')


.community-header .community
  padding: 5px
  cursor: default
  margin: 0px
  margin-bottom: 15px
  a.post-create
    position: absolute
    text-align: center
    top: 9px
    right: 10px
  .closed
    font-size: 1em;
    color: #999
  .image
    width: 47px
    height: 47px
  .description
    height: auto

.members-list
  position: relative
  .member
    position: relative
    &:hover .buttons .button.delete
      display: inline-block
    .buttons
      .button
        cursor: pointer
        padding: 3px 13px 1px
        text-transform: inherit
        margin-right: 5px
        &.delete
          display: none
        &.delete, &.reject
          background: #e7422c
          &:hover
            background: #FF6961
  .user-frame
    margin: 5px 10px
  .top-buttons
    position: absolute
    top: 9px
    right: 25px
    button
      text-transform: uppercase
      padding: 12px 15px 10px
      margin-left: 10px
      vertical-align: middle
      -border-radius(3px)
      border: 0 none
      color: white
      &.community-join
        background: #6188CA
      &.community-leave
        background: #e7422c
      &.community-join:hover
        background: #779dca
      &.community-leave:hover
        background: #FF6961

@import 'mixins'

button
  outline: none
  &[disabled]
    opacity: 0.7
    &:hover
      background: #fd8a16

input[type], textarea
    display: inline-block
.mce-tinymce
  display: inline-block !important
  width: 100% !important
  box-sizing: border-box !important
.edit-wrapper
  white-space: nowrap
textarea.editor
  margin-bottom: 50px
  min-height: 600px
  display: none !important
.custom-form
  padding: 0px 20px
  padding-bottom: 20px
  float: left
  width: 100%
  textarea
    min-height: 100px
  input[type=text],input[type=password], textarea, select
    background: #FFFFFF
    border: 1px solid #EEEEEE
    border-bottom-color: #cccccc
    -border-radius(3px)
    margin: 0
    margin-bottom: 4px
    outline: none
    color: #333;
    padding: 10px
    width: 100%
    resize:vertical
    &:focus
      border-color: #fd8a16
  .button,
  input[type=button],
  input[type=submit]
    display: inline-block
    background: #fd8a16
    color: white
    text-transform: uppercase
    border: 0 none
    width: auto
    float: right
    margin-top: 20px
    margin-left: 10px
    text-decoration: none
    -border-radius(3px)
    padding: 12px 15px 10px
    &[disabled]
      opacity: 0.7
      &:hover
        background: #fd8a16
    &:hover
      background: #fd9e3f
    &.cancel
      background: #e7422c
      &:hover
        background: #FF6961
    &.success
      background: #77DD77
      &:hover
        background: #89dd89
  .field-label
    color: #777777
    width: 100%
    padding: 5px
select + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -3px
    -border-radius 0px 0px 3px 3px

select[multiple] + .error-wrapper
  vertical-align: bottom
  .error
    margin-top: -20px
    -border-radius 3px 0px 0px 0px

.error-wrapper {
  display: inline-block;
  width: 0;
  vertical-align: top;
  position: relative;
  pointer-events: none;
}
.error-wrapper .error {
  font-size: 0.9em;
  position: absolute;
  white-space: nowrap;
  top: 0;
  right: 0;
  background-color: rgba(255,0,0,0.65);
  padding: 1px 5px;
  color: #fff;
  -border-radius 0 3px 0 3px

}
.custom-form .tag-field
  width: 100%
  float: left
  background: #FFFFFF
  border: 1px solid #EEEEEE
  border-bottom-color: #cccccc
  -border-radius(3px)
  margin: 0
  margin-bottom: 4px
  outline: none
  color: #333
  padding: 5px
  resize:vertical
  cursor: text
  .tag
    padding: 2px 5px
    -border-radius 3px
    margin: 2px 5px
    float: left
    border: 1px dotted #ccc
    span
      padding-right: 5px
    .delete
      cursor: pointer
      color: #e7422c
      padding: 0
      &:hover
        color: #FF6961
  &:focus
    border-color: #fd8a16
  .value-wrapper
    float: left
    position: relative
    span
      display: inline-block
      padding: 2px 1px
      white-space: pre-wrap
      margin: 0px 5px
      padding-left: 10px
      height: 27px
      vertical-align: top
    input
      padding: 0
      padding-left: 10px
      margin-top: 4px
      position: absolute
      top: 0px
      left: 0px
      border: 0 none
      box-sizing: content-box
.image-loader
  width: 100px
  height: 100px
  padding: 4px
  -border-radius 3px
  border: 1px solid #EEEEEE
  position: relative
  overflow: hidden
  cursor: pointer
  input
    border: 1px solid red
    font-size: 0px
    width: 9999px
    height: 9999px
    position: absolute
    left: -4000px
    top: -4000px
    opacity: 1
    cursor: pointer
  .image-preview
    background-image: url('/static/img/picture_icon.png')
    -border-radius 3px
    overflow: hidden
    width: 100%
    height: 100%
    background-size: cover
    background-position: center center

@import 'mixins'

media_height = 400px

.media-uploader
  vertical-align: top
  width: 30px
  height: 30px
  font-size: 2em
  color: #779dca
  position: relative
  button.toggle
    -transition all .3s ease
    outline: none
    height: 100%
    width: 100%
    margin: 0
    -border-radius 999px
    padding: 4px
    color: #779dca
    background: transparent
  &.opened button.toggle, button.toggle:hover
      background: #779dca
      color: white
  &.opened
    .options
      display: block
      opacity: 1
  .options
    opacity: 0
    display: none
    position: absolute
    bottom: 100%
    right: 5px
    background: white
    margin-bottom: 9px
    -transition all .3s ease
    z-index: 1
    -border-radius 3px
    -box-shadow 0px 2px 7px 0px rgba(0,0,0,0.2)
    > .buttons
      position: relative
      z-index: 1
      width: 100%
      height: 100%
      -border-radius 3px
      overflow: hidden
      background: white
      button
        padding: 5px 10px
        margin: 0
        border: 0 none
        background: transparent
        color: #779dca
        width: 100%
        font-size: 0.7em
        white-space: nowrap
        text-align: left
        span:first-child
          padding-right: 5px
        &:hover, &.active
          background-color: #779dca
          color: #FFFFFF
    .fa.arrow
      color: white
      top: 100% !important
      right: 10px
      height: 7px
      line-height: 7px
      margin-top: -1px
      font-size: 1.2em
      -text-shadow 0px 1px 2px rgba(0,0,0,0.1)
      z-index: 0

.media-uploader
  .options
    .title
      text-align: center
      border-bottom: 1px solid #eee;
      margin: 0px -10px 15px;
    .file-uploader
      padding: 10px
      padding-top:0
      min-width: 400px
      font-size: 0.8em
      .buttons
        float:right
        padding: 15px 0px
        .button
          padding: 5px 10px
          margin: 0px
          margin-left: 10px
          text-transform: inherit
          float: left
      .preview
        .wrapper
          margin: 10px 0px
          padding-right: 0px !important
          -border-radius 3px
          overflow: hidden
          text-align: center
          width: 100%
        input
          display: none
        img
          max-width: 100%
      .url-wrapper
        position: relative
        input
          padding: 10px
          margin: 0
          padding-right: 50px
        .download
          position: absolute
          padding: 5px
          font-size: 1.2em
          margin: 0
          height: 100%
          right: 0
          width: 40px
          -border-radius 0 3px 3px 0
      .separator
        color: #eee
        text-align: center
        position: relative
        margin: 10px 0px
        span
          background: white
          padding: 0 10px
          position: relative
          z-index: 1
        &:before
          content: ''
          position: absolute
          top: 45%
          width: 100%
          border-bottom: 1px solid #eee
          left: 0
      .drop-area
        -border-radius 5px
        border: 1px dashed #cccccc
        color: #aaaaaa
        padding: 20px
        text-align: center

.media-holder
  border-bottom: 3px solid white
  text-align: left
  /*padding: 10px*/
  /*border-top: 1px solid #eeeeee*/
  margin-right: -40px
  -border-radius: 0px 0px 0px 3px
  overflow: hidden
  padding: 2px 2px 0px
  max-height: 400px
  height: auto
  .media > div
    width: 100%
    height: 100%
  &.count-0
    padding: 0
    display: none
  &.hidden
    display: none
  .media.deleted
    display: none
  .approved
    width: 20%
    height: auto
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-1 .media.approved
    width: 100%
    max-height: media_height
    img
      max-height: auto
      max-width: 100%
  &.count-2 .media.approved
    width: 50%
    max-height: media_height
  &.count-3 .media.approved
    width: 50%
    max-height: (media_height / 2)
    &:first-of-type
      width: 100%
  &.count-4 .media.approved
    width: 50%
    max-height: (media_height / 2)
  &.count-5 .media.approved
    width: 25%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  &.count-6 .media.approved
    width: 20%
    max-height: (media_height / 4)
    &:first-of-type
      width: 100%
      max-height: (media_height * 3 / 4)
  .media
    padding: 1px
    display: none
    position: relative
    margin-top: 0
    width: 100%
    height: auto
    max-height: 100%
    text-align: center
    overflow: hidden
    background-size: auto 100%
    background-position: center center
    background-repeat: no-repeat
    border: 1px solid white
    &.cover
      background-size: cover
    &.contain
      background-size: contain
    .image
      display: inline-block
      width: 100%
      height: auto
      background-position: center center
      background-size: cover
    .cancel
      width: 20px
      height: 20px
      background: #ffffff
      -border-radius 999px
      margin: 5px 10px
      position: absolute
      top: 0px
      right: 0px
      color: #e7422c
      padding: 0px
      border: 0 none
      font-size: 1em
      &:hover
        color: #FF6961
    &.approved
      display: inline-block
      vertical-align: top
      input
        display: none
      img
        max-height: 100%
        opacity: 0
        z-index: -1
        position: relative
-user-select()
  -webkit-touch-callout: arguments
  -webkit-user-select: arguments
  -khtml-user-select: arguments
  -moz-user-select: arguments
  -ms-user-select: arguments
  user-select: arguments
-border-radius()
  -webkit-border-radius: arguments
  -moz-border-radius:    arguments
  border-radius:         arguments

-box-shadow()
  -webkit-box-shadow: arguments
  -moz-box-shadow:    arguments
  -ms-box-shadow:     arguments
  box-shadow:         arguments

-text-shadow()
  -webkit-text-shadow: arguments
  -moz-text-shadow:    arguments
  -ms-text-shadow:     arguments
  text-shadow:         arguments

-transition()
  -webkit-transition: arguments
  -moz-transition: arguments
  -ms-transition: arguments
  -o-transition: arguments
  transition: arguments

-transform()
  transform: arguments
  -webkit-transform: arguments
  -o-transform: arguments
  -moz-transform: arguments

-animation-iteration-count()
  animation-iteration-count: arguments
  -webkit-animation-iteration-count: arguments
  -o-animation-iteration-count: arguments
  -moz-animation-iteration-count: arguments

.news-list, .news-one, .community
  .edit-buttons
    position: absolute
    top: 0
    right: 0
    font-size: 1.5em
    padding: 10px
    display: none
    a
      &:first-child span
        padding-top: 4px
      vertical-align: top
      display: inline-block
      height: 20px
      padding: 5px
.news-list article .text
  max-height: 800px
  overflow: hidden
.news-list, .news-one
  > .title
    text-align: center
    font-size: 1.7em
  .title
    margin-bottom: 10px
  article
    margin: 0
    margin-bottom: 5px
    position: relative

    &:hover
      .edit-buttons
        display: block
    > .title
      padding-right: 80px

    .text
      padding: 0px 20px
      img
        max-width: 100%;
        height: auto;
    .datetime
      clear: both
      text-align: right
      padding: 5px 20px
      color: #aaaaaa
      font-size: 0.8em
    .footer
      float: left
      width: 100%
      border-top: 1px solid #eeeeee
      padding: 5px 20px
      position: relative
      padding-left: 70px
      .category
        padding-right: 39px
        color: #999
        float: left
      .tags
        float: left
        margin-left: -19px
        .tag
          white-space: nowrap
          padding: 0px 5px
          color: #779dca
          &:hover
            color: #23527c

      .user-icon
        position: absolute
        border: 1px solid #eeeeee
        width: 30px
        height: 30px
        top: -15px
        left: 20px
      .comments-counter, .likes-counter-component, .views
        float: right
        margin-left: 15px
        span
          padding: 0px 3px
      .comments-counter
        color: #779dca
      .views
        color: #999999
.news-header
  margin-bottom: 15px
.news-create
  position: absolute
  text-align: center
  top: 9px
  right: 25px
.news-list article
  margin-bottom: 10px
.news-list .text
  cursor: pointer
.news-form
  .title
    border-bottom: 1px solid #f6f6f6


@import 'mixins'

html, body
  min-height: 100%
body
  font-size: 12px
  background-color:#eee
  padding-bottom: 100px
  margin: 0
table
  font-size: inherit
header
  background: #FFFFFF
  padding: 10px 0px
  -box-shadow 0px 0px 2px 0px rgba(0,0,0,0.2)
  .logo img
    height: 30px
footer
  height: 50px
.unselectable
  -user-select none
.dragging
  -user-select none
  cursor: move
/* ------------------------ BOOTSTRAP FIX ------------------------------ */
body > .container-flex
  display: inline-block
  width: 100%
body > .container-flex .row
  margin: 0
.navbar.navbar-default
  background: #fff
  -border-radius 0
  border-bottom: 1px solid #EEEEEE
  /*box-shadow 0px 0px 2px 0px rgba(0,0,0,.2)*/
body
  background: #f6f6f6 !important
/* --------------------------------------------------------------------- */
.frame
  background: #FFFFFF
  -border-radius(5px)
  -box-shadow 0px 1px 2px 0px rgba(0,0,0,0.1)
  overflow: hidden
.login-frame, .registration-frame
  margin: 10px
  padding: 10px
  float: left
  input[type=submit]
    float: right
    margin-top: 10px
.user-icon
  width: 50px
  height: 50px
  -border-radius 999px
  background-position: center center
  background-size: cover
  background-image: url('/static/img/no-photo-s.png')
  cursor: pointer
  background-color: white
.user-frame
  position: relative
  min-height: 40px
  &:before
    content: ''
    display: inline-block
    min-height: 40px
    height: 100%
    vertical-align: middle
  .user-icon
    position: absolute
    width: 40px
    height: 40px
    top: 0px
    left: 0px
  .info
    vertical-align: middle
    display: inline-block
    padding-left: 50px
    width: 100%
    .description
      color: #cccccc
h3.title
  margin: 0
  padding: 15px 20px
  color: #fd8a16
  border-bottom: 1px solid #eeeeee
h3.title a
  color: #fd8a16
  text-decoration: none
  &:hover
    text-decoration: underline
  /*border-bottom: 1px solid #f6f6f6*/

.button
  float: none
  display: inline-block
  background: #fd8a16
  color: white
  text-transform: uppercase
  border: 0 none
  width: auto
  text-decoration: none
  -border-radius(3px)
  padding: 12px 15px 10px
  &:hover
    text-decoration: none
    color: white
    background: #fd9e3f

/* ------------------------ POPUP ------------------------------ */
.popup-wrapper
  position: fixed
  top: 0px
  left: 0px
  width: 100%
  height: 100%
  /*background: rgba(255,255,255,0.4)*/
  background: rgba(0,0,0,0.1)
  z-index: 999
  td
    vertical-align: middle
    text-align: center
    .popup-window
      @extend .frame;
      width: auto
      display: inline-block
      position: relative
      &.no-title.has-close-button
        padding-right: 20px
        .close
          right: 10px
          top: 10px
      &.has-close-button
        > .close
          display: block
        > .title
          text-align: left
          padding-right: 50px
      > .close
        display: none
        position: absolute
        top: 20px
        right: 20px
        font-size: 18px
        font-family: "FontAwesome";
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: #ccc
        opacity: 1
        &:hover
          color: #ff6961
        &:before
          content: "\f00d";
      > h3.title
        border-bottom: 1px solid #EEEEEE
      > .content
        padding: 10px
      > .buttons
        button
          margin: 10px
          min-width: 100px
          &.left
            float: left
          &.right
            float: right
// -------------------------------------------------------------------------------------
.user-profile-header
  float: right
  .user-icon
    margin: 5px
    float: right
    width: 40px
    height: 40px
    a
      width: 100%
      height: 100%
      display: inline-block
  .user-info
    float: left
    padding-top: 8px
    a
      clear: both
      float: right
      padding: 0px 5px
      &.user-name
        color: #777
        text-decoration: none
        &:hover
          color: #333
      &.user-logout
        color: #fd8a16
        &.block
          clear: none

.profile
  .header
    border-bottom: 1px solid #EEEEEE
  .title
    display: inline-block
  .content
    padding: 20px
  .edit-buttons
    float: right
    padding: 22px 20px 0px
.left-column .frame
  margin: 0px 0px 20px 10px
  .title
    border-bottom: 1px solid #eee
.right-column .frame
  margin: 0px 0px 20px 0px
  .title
    border-bottom: 1px solid #eee

.user-birthdays, .user-new-members
  list-style: none
  margin: 0
  padding: 5px 0px
  li.user
    padding: 5px 10px
    position: relative
    .user-icon
      position: absolute
      width: 40px
      height: 40px
    .info
      height: 40px
      padding: 5px 0px
      width: 100%
      margin-left: 50px
      .date
        color: #999999
  li.no-one
    padding: 5px
    color: #999999
    text-align: center

.likes-counter
  color: #e7422c
  cursor: pointer
  display: inline-block
  position: relative
  span
    padding: 0px 3px
    display: inline-block
  .icon:before
    content: '\f08a'
  &.active .icon:before
    content: '\f004'


.company-structure
  frame_width = 180px
  lines_border = 1px solid #ccc
  text-align: center
  .user:before
    vertical-align: middle
    display: inline-block
    min-height: 26px
    height: 100%
    content: ''
  .worker-info, .user-icon
    vertical-align: middle
    display: inline-block
    padding-top: 2px
    white-space: normal
    span
      display: inline-block

  .level-0
    float: left
  .level-0 > li > .department .title
    background-color: #FFB27F
  .level-1 > li:nth-child(1) .department .title
    background-color: #CFE2F3
  .level-1 > li:nth-child(2) .department .title
    background-color: #E6B8AF

  .level-1 > li:nth-child(3) .department .title
    background-color: #C5D9A6
  .level-1 > li:nth-child(4) .department .title
    background-color: #CCB2D5

  .level-1 > li:nth-child(5) .department .title
    background-color: #EEE1AD
  .level-1 > li:nth-child(6) .department .title
    background-color: #FEE893

  .level-1 > li:nth-child(7) .department .title
    background-color: #e3e3e3
  .structure
    padding: 0px 20px
    overflow: hidden
    margin: 0px -15px;
    cursor: move
    &.loading
      opacity: 0
    ul
      white-space: nowrap
      li
        white-space: normal
    .lines
      height: 20px
      position: relative
      &:before, &:after
        position: absolute
        top: 0px
        left: 0
        height: 100%
        content: ''
        border-top: lines_border
  .level-0
    padding: 20px
    margin: 0
    > li > .department
      margin-bottom: 15px
  .level-0 > li
    text-align: center
    position: relative
    > .lines
      position: absolute
      height: 10px
      bottom: 0px
      border-right: lines_border
  .level-1
    position: relative
    &:before
      content: ''
      height: 20px
      position: absolute
      bottom: 100%
      left: 50%
      border-right: lines_border
  .level-1 > li
    display: inline-block
    vertical-align: top
    padding: 0
    text-align:left
    .department
      margin-top: 0
    .lines
      &:before
        border-top: lines_border
        width: (frame_width/2)
        border-right: lines_border
      &:after
        width: 100%
        border-top: lines_border
        margin-left:(frame_width/2)
    &:first-child
      .lines:after
        width: 100%
        border-left: lines_border
      .lines:before
        border: none
    &:last-child
      .lines:after
        border: none
      .lines:before
        border-right: lines_border
  .level-1 ul
    padding: 0px
    padding-left: 20px
    margin: 0px
  .level-2 li
    margin: 0px
    padding-left: 20px
    border-left: lines_border
    position: relative
    &:last-child
      border-color: transparent
      .line:before
        border-left: lines_border !important
    .lines
      position: absolute
      top: -5px
      left: -1px
      &:before, &:after
        float: left
        border: none
        width: 20px
        height: 23px
        border: none !important
      &:before
        border-bottom: lines_border !important
        border-left: lines_border !important

  ul
    list-style: none


  .department
    margin-top: 5px
    margin-right: 5px
    width: frame_width
    display: inline-block
    padding: 10px
    text-align: left
    font-size: 0.9em
    padding-bottom: 2px
    margin-bottom: 0px
    .title:last-child
      margin-bottom: -5px
    .user-icon
      clear: both
      float: left
      width: 30px
      height: 30px
      position: absolute
      left: 10px
    .title
      float: none
      text-align: center
      margin: -10px
      margin-bottom: 0px
      padding: 10px 5px
    .user
      padding: 2px 10px 4px 40px
      margin: 4px -10px
      line-height: 1.2em
      min-height: 30px
      position: relative
      white-space: nowrap
      a
        padding: 0px 5px
        overflow: hidden
        text-overflow: ellipsis
        display: inline-block
        width: 100%
        white-space: nowrap
        margin-bottom: -2px
      .position
        padding: 0px 5px
        width: 100%
        color: #999
        padding-top: 2px
        margin-bottom: -2px
    > .user + .workers .workers-toggle
      margin-top: 5px
      border-top: 1px solid #EEEEEE
    .workers .workers-toggle
      text-align: center
      margin: 0px -10px 0px
      padding: 5px
    .workers.show
      .workers-toggle
        border-bottom: 1px solid #EEEEEE
      a.show-link
        display: none

    .workers:not(.show)
      a.hide-link
        display: none
      .workers-list
        display: none

.user-search
  padding: 10px 10px 0px
  .user-list
    position: absolute
    width: 100%
    left: 0px
    padding: 10px
    li
      padding: 5px
      width: 33.33333%
      float: left
      .user-frame
        cursor: pointer
        padding: 10px
        .user-icon
          top: 10px
          left: 10px
        .description
          text-overflow: ellipsis;
          overflow: hidden
          white-space: nowrap
